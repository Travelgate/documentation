"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["49612"],{69103:function(e,t,s){s.d(t,{$h:()=>r,Tx:()=>o,ZC:()=>a,aw:()=>function e(t,s){if(t===s)return!0;if(Array.isArray(t)&&Array.isArray(s)){if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],s[i]))return!1;return!0}if(t&&"object"==typeof t&&s&&"object"==typeof s&&Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(s)===Object.prototype){let i=Object.keys(t),n=Object.keys(s),a=new Set(n);if(i.length!==n.length)return!1;for(let n of i)if(!a.has(n)||!e(t[n],s[n]))return!1;return!0}return!1},ht:()=>n});var i=s(9488);let n=(e,t)=>e===t;function a(e=n){return(t,s)=>i.fS(t,s,e)}function r(){return(e,t)=>e.equals(t)}function o(e,t,s){return void 0===s?(t,s)=>null==t||null==s?s===t:e(t,s):null==e||null==t?t===e:s(e,t)}new WeakMap},35049:function(e,t,s){s.d(t,{Ku:()=>C,F_:()=>_,nJ:()=>l,PS:()=>i.PS,bk:()=>n.bk,EH:()=>u,aK:()=>n.aK,rD:()=>m.rD,gp:()=>c,zN:()=>g,bx:()=>m.bx,Be:()=>n.Be,GN:()=>m.GN,aq:()=>m.aq,jx:()=>m.DN,c8:()=>i.c8,UV:()=>d,DN:()=>i.DN,No:()=>p,nK:()=>n.nK,Dz:()=>m.Dz,uh:()=>i.uh});var i=s(96512),n=s(54282),a=s(35146),r=s(5976),o=s(66248),h=s(121);function u(e){return new f(new o.IZ(void 0,void 0,e),e,void 0,void 0)}function d(e,t){return new f(new o.IZ(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}function l(e,t){return new f(new o.IZ(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}function g(e,t){let s=new r.SL,i=l({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(e,i)=>{s.clear(),t(e,i,s)});return(0,r.OF)(()=>{i.dispose(),s.dispose()})}function c(e){let t=new r.SL,s=d({owner:void 0,debugName:void 0,debugReferenceFn:e},s=>{t.clear(),e(s,t)});return(0,r.OF)(()=>{s.dispose(),t.dispose()})}class f{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,s,i){this._debugNameData=e,this._runFn=t,this.createChangeSummary=s,this._handleChange=i,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),(0,h.jl)()?.handleAutorunCreated(this),this._runIfNeeded(),(0,r.wi)(this)}dispose(){for(let e of(this.disposed=!0,this.dependencies))e.removeObserver(this);this.dependencies.clear(),(0,r.Nq)(this)}_runIfNeeded(){if(3===this.state)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;let t=this.disposed;try{if(!t){(0,h.jl)()?.handleAutorunTriggered(this);let e=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,e)}}finally{for(let e of(t||(0,h.jl)()?.handleAutorunFinished(this),this.dependenciesToBeRemoved))e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){for(let e of(this.state=3,this.dependencies))if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state)this.updateCount--,(0,a.eZ)(()=>this.updateCount>=0)}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(u||(u={})).Observer=f;var m=s(86367),v=s(17301);class p{static fromFn(e){return new p(e())}constructor(e){this._value=(0,i.uh)(this,void 0),this.promiseResult=this._value,this.promise=e.then(e=>((0,i.PS)(t=>{this._value.set(new b(e,void 0),t)}),e),e=>{throw(0,i.PS)(t=>{this._value.set(new b(void 0,e),t)}),e})}}class b{constructor(e,t){this.data=e,this.error=t}}function _(e,t,s,i){return t||(t=e=>null!=e),new Promise((n,a)=>{let r=!0,o=!1,h=e.map(e=>({isFinished:t(e),error:!!s&&s(e),state:e})),d=u(e=>{let{isFinished:t,error:s,state:i}=h.read(e);(t||s)&&(r?o=!0:d.dispose(),s?a(!0===s?i:s):n(i))});if(i){let e=i.onCancellationRequested(()=>{d.dispose(),e.dispose(),a(new v.FU)});if(i.isCancellationRequested){d.dispose(),e.dispose(),a(new v.FU);return}}r=!1,o&&d.dispose()})}var w=s(69103);class y extends i.hm{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,s){super(),this._debugNameData=e,this._equalityComparator=s,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(let e of this.observers)for(let t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(let e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,1===this._updateCounter)for(let e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,0===this._updateCounter)for(let e of(this._update(),[...this.observers]))e.endUpdate(this)}addObserver(e){let t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){let t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,s){let n;if(!(void 0===s&&this._equalityComparator(this._value,e))){t||(t=n=new i.es(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),void 0!==s&&this._deltas.push(s),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(e,t)=>{},handlePossibleChange:e=>{}},this),this._updateCounter>1)for(let e of this.observers)e.handlePossibleChange(this)}finally{n&&n.finish()}}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function C(e,t){return e.lazy?new y(new o.IZ(e.owner,e.debugName,void 0),t,e.equalsFn??w.ht):new i.fA(new o.IZ(e.owner,e.debugName,void 0),t,e.equalsFn??w.ht)}},96512:function(e,t,s){let i,n,a;s.d(t,{Bl:()=>v,DN:()=>C,Hr:()=>p,Jn:()=>d,MK:()=>u,Nc:()=>g,PS:()=>f,c8:()=>b,es:()=>_,fA:()=>y,hm:()=>c,mT:()=>l,uh:()=>w});var r=s(69103),o=s(66248),h=s(121);function u(e){i=e}function d(e){n=e}function l(e){a=e}class g{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){let s=void 0===t?void 0:e,i=void 0===t?e:t;return a({owner:s,debugName:()=>{let e=(0,o.$P)(i);if(void 0!==e)return e;let t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());return t?`${this.debugName}.${t[2]}`:s?void 0:`${this.debugName} (mapped)`},debugReferenceFn:i},e=>i(this.read(e),e))}flatten(){return a({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(i(this,t)),this}keepObserved(e){return e.add(n(this)),this}}class c extends g{constructor(){super(...arguments),this.observers=new Set}addObserver(e){let t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function f(e,t){let s=new _(e,t);try{e(s)}finally{s.finish()}}let m=72580==s.j?void 0:null;function v(e){if(m)e(m);else{let t=new _(e,void 0);m=t;try{e(t)}finally{t.finish(),m=void 0}}}async function p(e,t){let s=new _(e,t);try{await e(s)}finally{s.finish()}}function b(e,t,s){e?t(e):f(t,s)}class _{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[],(0,h.jl)()?.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,o.$P)(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){let e=this.updatingObservers;for(let t=0;t<e.length;t++){let{observer:s,observable:i}=e[t];s.endUpdate(i)}this.updatingObservers=null,(0,h.jl)()?.handleEndTransaction()}}function w(e,t){return new y("string"==typeof e?new o.IZ(void 0,e,void 0):new o.IZ(e,void 0,void 0),t,r.ht)}class y extends c{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,s){super(),this._debugNameData=e,this._equalityComparator=s,this._value=t}get(){return this._value}set(e,t,s){let i;if(!(void 0===s&&this._equalityComparator(this._value,e))){t||(t=i=new _(()=>{},()=>`Setting ${this.debugName}`));try{let i=this._value;for(let n of(this._setValue(e),(0,h.jl)()?.handleObservableChanged(this,{oldValue:i,newValue:e,change:s,didChange:!0,hadValue:!0}),this.observers))t.updateObserver(n,this),n.handleChange(this,s)}finally{i&&i.finish()}}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function C(e,t){return new O("string"==typeof e?new o.IZ(void 0,e,void 0):new o.IZ(e,void 0,void 0),t,r.ht)}class O extends(72580==s.j?y:null){_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}}},66248:function(e,t,s){s.d(t,{$P:()=>h,IZ:()=>i});class i{constructor(e,t,s){this.owner=e,this.debugNameSource=t,this.referenceFn=s}getDebugName(e){return function(e,t){let s=a.get(e);if(s)return s;let i=function(e,t){let s,i=a.get(e);if(i)return i;let n=t.owner?function(e){let t=o.get(e);if(t)return t;let s=function(e){let t=e.constructor;return t?t.name:"Object"}(e),i=r.get(s)??0;i++,r.set(s,i);let n=1===i?s:`${s}#${i}`;return o.set(e,n),n}(t.owner)+".":"",u=t.debugNameSource;if(void 0!==u){if("function"!=typeof u)return n+u;else if(void 0!==(s=u()))return n+s}let d=t.referenceFn;if(void 0!==d&&void 0!==(s=h(d)))return n+s;if(void 0!==t.owner){let s=function(e,t){for(let s in e)if(e[s]===t)return s}(t.owner,e);if(void 0!==s)return n+s}}(e,t);if(i){let t=n.get(i)??0;t++,n.set(i,t);let s=1===t?i:`${i}#${t}`;return a.set(e,s),s}}(e,this)}}let n=new Map,a=new WeakMap,r=new Map,o=new WeakMap;function h(e){let t=e.toString(),s=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),i=s?s[1]:void 0;return i?.trim()}},54282:function(e,t,s){s.d(t,{B5:()=>d,Be:()=>c,aK:()=>g,bk:()=>l,kA:()=>f,nK:()=>u});var i=s(35146),n=s(69103),a=s(5976),r=s(96512),o=s(66248),h=s(121);function u(e,t){return void 0!==t?new m(new o.IZ(e,void 0,t),t,void 0,void 0,void 0,n.ht):new m(new o.IZ(void 0,void 0,e),e,void 0,void 0,void 0,n.ht)}function d(e,t,s){return new v(new o.IZ(e,void 0,t),t,void 0,void 0,void 0,n.ht,s)}function l(e,t){return new m(new o.IZ(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??n.ht)}function g(e,t){return new m(new o.IZ(e.owner,e.debugName,void 0),t,e.createEmptyChangeSummary,e.handleChange,void 0,e.equalityComparer??n.ht)}function c(e,t){let s,i;void 0===t?(s=e,i=void 0):(i=e,s=t);let r=new a.SL;return new m(new o.IZ(i,void 0,s),e=>(r.clear(),s(e,r)),void 0,void 0,()=>r.dispose(),n.ht)}function f(e,t){let s,i,r;return void 0===t?(s=e,i=void 0):(i=e,s=t),new m(new o.IZ(i,void 0,s),e=>{r?r.clear():r=new a.SL;let t=s(e);return t&&r.add(t),t},void 0,void 0,()=>{r&&(r.dispose(),r=void 0)},n.ht)}(0,r.mT)(l);class m extends r.hm{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,s,i,n,a){super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=s,this._handleChange=i,this._handleLastObserverRemoved=n,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.(),(0,h.jl)()?.handleDerivedCreated(this)}onLastObserverRemoved(){for(let e of(this.state=0,this.value=void 0,this.dependencies))e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){let e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}do{if(1===this.state){for(let e of this.dependencies)if(e.reportChanges(),2===this.state)break}1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state)return this.value}_recomputeIfNeeded(){if(3===this.state)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;let t=0!==this.state,s=this.value;this.state=3;let i=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,i)}finally{for(let e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}let n=t&&!this._equalityComparator(s,this.value);if((0,h.jl)()?.handleDerivedRecomputed(this,{oldValue:s,newValue:this.value,change:void 0,didChange:n,hadValue:t}),n)for(let e of this.observers)e.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;let t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(let e of this.observers)e.handlePossibleChange(this);if(t)for(let e of this.observers)e.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount)for(let e of[...this.observers])e.endUpdate(this);(0,i.eZ)(()=>this.updateCount>=0)}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))for(let e of(this.state=1,this.observers))e.handlePossibleChange(this)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){let s=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),i=3===this.state;if(s&&(1===this.state||i)&&(this.state=2,i))for(let e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);let t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){let t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){let t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class v extends m{constructor(e,t,s,i,n,a,r){super(e,t,s,i,n,a),this.set=r}}},121:function(e,t,s){let i;function n(e){i=e}function a(){return i}s.d(t,{EK:()=>n,Qy:()=>r,jl:()=>a});class r{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(e){return function(e){let t=[],s=[],i="";!function e(n){if("length"in n)for(let t of n)t&&e(t);else"text"in n?(i+=`%c${n.text}`,t.push(n.style),n.data&&s.push(...n.data)):"data"in n&&s.push(...n.data)}(e);let n=[i,...t];return n.push(...s),n}([o(function(e,t){let s="";for(let e=1;e<=t;e++)s+="|  ";return s}("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[o(" "),u(d(e.oldValue,70),{color:"red",strikeThrough:!0}),o(" "),u(d(e.newValue,60),{color:"green"})]:[o(" (unchanged)")]:[o(" "),u(d(e.newValue,60),{color:"green"}),o(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([h("observable value changed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}formatChanges(e){if(0!==e.size)return u(" (changed deps: "+[...e].map(e=>e.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(s,i)=>(this.changedObservablesSets.get(e).add(s),t.apply(e,[s,i]))}handleDerivedRecomputed(e,t){let s=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([h("derived recomputed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(s),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),s.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([h("observable from event triggered"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){let t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(s,i)=>(this.changedObservablesSets.get(e).add(s),t.apply(e,[s,i]))}handleAutorunTriggered(e){let t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([h("autorun"),u(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();void 0===t&&(t=""),console.log(...this.textToConsoleArgs([h("transaction"),u(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function o(e){return u(e,{color:"black"})}function h(e){return u(function(e,t){for(;e.length<10;)e+=" ";return e}(`${e}: `,10),{color:"black",bold:!0})}function u(e,t={color:"black"}){let s={color:t.color};return t.strikeThrough&&(s["text-decoration"]="line-through"),t.bold&&(s["font-weight"]="bold"),{text:e,style:Object.entries(s).reduce((e,[t,s])=>`${e}${t}:${s};`,"")}}function d(e,t){switch(typeof e){case"number":default:return""+e;case"string":if(e.length+2<=t)return`"${e}"`;return`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":if(null===e)return"null";if(Array.isArray(e)){var s=e,i=t;let n="[ ",a=!0;for(let e of s){if(a||(n+=", "),n.length-5>i){n+="...";break}a=!1,n+=`${d(e,i-n.length)}`}return n+" ]"}var n=e,a=t;let r="{ ",o=!0;for(let[e,t]of Object.entries(n)){if(o||(r+=", "),r.length-5>a){r+="...";break}o=!1,r+=`${e}: ${d(t,a-r.length)}`}return r+" }";case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`}}},86367:function(e,t,s){s.d(t,{DN:()=>_,Dz:()=>d,GN:()=>p,Zg:()=>C,__:()=>c,aq:()=>m,bx:()=>y,lI:()=>L,rD:()=>g}),s(4669);var i,n=s(5976),a=s(96512),r=s(66248),o=s(54282),h=s(121),u=s(69103);function d(e){return new l(e)}class l extends a.Nc{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function g(...e){let t,s,i;return 3===e.length?[t,s,i]=e:[s,i]=e,new f(new r.IZ(t,void 0,i),s,i,()=>f.globalTransaction,u.ht)}function c(e,t,s){return new f(new r.IZ(e.owner,e.debugName,e.debugReferenceFn??s),t,s,()=>f.globalTransaction,e.equalsFn??u.ht)}class f extends a.hm{constructor(e,t,s,i,n){super(),this._debugNameData=e,this.event=t,this._getValue=s,this._getTransaction=i,this._equalityComparator=n,this.hasValue=!1,this.handleEvent=e=>{let t=this._getValue(e),s=this.value,i=!this.hasValue||!this._equalityComparator(s,t),n=!1;i&&(this.value=t,this.hasValue&&(n=!0,(0,a.c8)(this._getTransaction(),e=>{for(let n of((0,h.jl)()?.handleFromEventObservableTriggered(this,{oldValue:s,newValue:t,change:void 0,didChange:i,hadValue:this.hasValue}),this.observers))e.updateObserver(n,this),n.handleChange(this,void 0)},()=>{let e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")})),this.hasValue=!0),n||(0,h.jl)()?.handleFromEventObservableTriggered(this,{oldValue:s,newValue:t,change:void 0,didChange:i,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function m(e,t){return new v(e,t)}(i=g||(g={})).Observer=f,i.batchEventsGlobally=function(e,t){let s=!1;void 0===f.globalTransaction&&(f.globalTransaction=e,s=!0);try{t()}finally{s&&(f.globalTransaction=void 0)}};class v extends a.hm{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{(0,a.PS)(e=>{for(let t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function p(e){return"string"==typeof e?new b(e):new b(void 0,e)}class b extends a.hm{get debugName(){return new r.IZ(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e)return void(0,a.PS)(e=>{this.trigger(e,t)},()=>`Trigger signal ${this.debugName}`);for(let s of this.observers)e.updateObserver(s,this),s.handleChange(this,t)}get(){}}function _(e,t){let s=new w(!0,t);return e.addObserver(s),t?t(e.get()):e.reportChanges(),(0,n.OF)(()=>{e.removeObserver(s)})}(0,a.Jn)(function(e){let t=new w(!1,void 0);return e.addObserver(t),(0,n.OF)(()=>{e.removeObserver(t)})}),(0,a.MK)(_);class w{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function y(e,t){let s;return(0,o.bk)({owner:e,debugReferenceFn:t},e=>s=t(e,s))}function C(e,t,s,i){let n=new O(s,i);return(0,o.bk)({debugReferenceFn:s,owner:e,onLastObserverRemoved:()=>{n.dispose(),n=new O(s)}},e=>(n.setItems(t.read(e)),n.getItems()))}class O{constructor(e,t){this._map=e,this._keySelector=t,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(e=>e.store.dispose()),this._cache.clear()}setItems(e){let t=[],s=new Set(this._cache.keys());for(let i of e){let e=this._keySelector?this._keySelector(i):i,a=this._cache.get(e);if(a)s.delete(e);else{let t=new n.SL;a={out:this._map(i,t),store:t},this._cache.set(e,a)}t.push(a.out)}for(let e of s)this._cache.get(e).store.dispose(),this._cache.delete(e);this._items=t}getItems(){return this._items}}function L(e,t){return y(e,(e,s)=>s??t(e))}},81032:function(e,t,s){s.r(t),s.d(t,{LanguageService:()=>d});var i=s(4669),n=s(5976),a=s(4765),r=s(9488),o=s(71204),h=s(68801),u=s(35049);class d extends n.JT{static{this.instanceCount=0}constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new i.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new i.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new i.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,d.instanceCount++,this._registry=this._register(new a.LanguagesRegistry(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){d.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){let s=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,r.Xh)(s,null)}createById(e){return new l(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new l(this.onDidChange,()=>{let s=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(s)})}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=h.bd),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),o.RW.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}class l{constructor(e,t){this._value=(0,u.rD)(this,e,()=>t()),this.onDidChange=i.ju.fromObservable(this._value)}get languageId(){return this._value.get()}}},73536:function(e,t,s){s.r(t),s.d(t,{clearPlatformLanguageAssociations:()=>f,getLanguageIds:()=>m,registerPlatformLanguageAssociation:()=>c});var i=s(14118),n=s(41483),a=s(66663),r=s(82663),o=s(95935),h=s(97295),u=s(68801);let d=[],l=[],g=[];function c(e,t=!1){!function(e,t,s){var n,a;let o=(n=e,a=t,{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:a,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?(0,i.Qc)(n.filepattern.toLowerCase()):void 0,filepatternOnPath:!!n.filepattern&&n.filepattern.indexOf(r.KR.sep)>=0});d.push(o),o.userConfigured?g.push(o):l.push(o),s&&!o.userConfigured&&d.forEach(e=>{e.mime!==o.mime&&!e.userConfigured&&(o.extension&&e.extension===o.extension&&console.warn(`Overwriting extension <<${o.extension}>> to now point to mime <<${o.mime}>>`),o.filename&&e.filename===o.filename&&console.warn(`Overwriting filename <<${o.filename}>> to now point to mime <<${o.mime}>>`),o.filepattern&&e.filepattern===o.filepattern&&console.warn(`Overwriting filepattern <<${o.filepattern}>> to now point to mime <<${o.mime}>>`),o.firstline&&e.firstline===o.firstline&&console.warn(`Overwriting firstline <<${o.firstline}>> to now point to mime <<${o.mime}>>`))})}(e,!1,t)}function f(){d=d.filter(e=>e.userConfigured),l=[]}function m(e,t){return(function(e,t){let s;if(e)switch(e.scheme){case a.lg.file:s=e.fsPath;break;case a.lg.data:s=o.Vb.parseMetaData(e).get(o.Vb.META_DATA_LABEL);break;case a.lg.vscodeNotebookCell:s=void 0;break;default:s=e.path}if(!s)return[{id:"unknown",mime:n.v.unknown}];s=s.toLowerCase();let i=(0,r.EZ)(s),c=v(s,i,g);if(c)return[c,{id:u.bd,mime:n.v.text}];let f=v(s,i,l);if(f)return[f,{id:u.bd,mime:n.v.text}];if(t){let e=function(e){if((0,h.uS)(e)&&(e=e.substr(1)),e.length>0)for(let t=d.length-1;t>=0;t--){let s=d[t];if(!s.firstline)continue;let i=e.match(s.firstline);if(i&&i.length>0)return s}}(t);if(e)return[e,{id:u.bd,mime:n.v.text}]}return[{id:"unknown",mime:n.v.unknown}]})(e,t).map(e=>e.id)}function v(e,t,s){let i,n,a;for(let r=s.length-1;r>=0;r--){let o=s[r];if(t===o.filenameLowercase){i=o;break}if(o.filepattern&&(!n||o.filepattern.length>n.filepattern.length)){let s=o.filepatternOnPath?e:t;o.filepatternLowercase?.(s)&&(n=o)}o.extension&&(!a||o.extension.length>a.extension.length)&&t.endsWith(o.extensionLowercase)&&(a=o)}return i||n||a||void 0}},4765:function(e,t,s){s.r(t),s.d(t,{LanguageIdCodec:()=>g,LanguagesRegistry:()=>c});var i=s(4669),n=s(5976),a=s(97295),r=s(73536),o=s(68801),h=s(23193),u=s(89872);let d=Object.prototype.hasOwnProperty,l="vs.editor.nullLanguage";class g{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(l,0),this._register(o.bd,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||l}}class c extends n.JT{static{this.instanceCount=0}constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new i.Q5),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new g,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.dQ.onDidChangeLanguages(e=>{this._initializeFromRegistry()})))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,r.clearPlatformLanguageAssociations)();let e=[].concat(o.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),u.B.as(h.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){let t,s=e.id;d.call(this._languages,s)?t=this._languages[s]:(this.languageIdCodec.register(s),t={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=t),this._mergeLanguage(t,e)}_mergeLanguage(e,t){let s=t.id,i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i=`text/x-${s}`,e.mimetypes.push(i)),Array.isArray(t.extensions))for(let n of(t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions),t.extensions))(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,extension:n},this._warnOnOverwrite);if(Array.isArray(t.filenames))for(let n of t.filenames)(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,filename:n},this._warnOnOverwrite),e.filenames.push(n);if(Array.isArray(t.filenamePatterns))for(let e of t.filenamePatterns)(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);(0,a.IO)(t)||(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,firstline:t},this._warnOnOverwrite)}catch(s){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,s)}}e.aliases.push(s);let n=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(n=0===t.aliases.length?[null]:t.aliases),null!==n)for(let t of n)t&&0!==t.length&&e.aliases.push(t);let o=null!==n&&n.length>0;if(o&&null===n[0]);else{let t=(o?n[0]:null)||s;(o||!e.name)&&(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&d.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){let t=e.toLowerCase();return d.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&d.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,r.getLanguageIds)(e,t):[]}}}}]);