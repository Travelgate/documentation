"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["36734"],{33784:function(e,s,t){t.r(s),t.d(s,{frontMatter:()=>r,toc:()=>a,default:()=>h,metadata:()=>l,assets:()=>c,contentTitle:()=>o});var l=JSON.parse('{"id":"apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist","title":"Blacklist","description":"The Blacklist App allows Buyers to define business rules that block search traffic to specific hotels or suppliers. This helps streamline results and enforce your internal policies. You can create rules based on multiple conditions, such as country, hotel, date range, or rate type (packages, non-refundable, etc.).","source":"@site/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist.mdx","sourceDirName":"apis/for-buyers/hotel-x-pull-buyers-api/plugins","slug":"/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist","permalink":"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist","draft":false,"unlisted":false,"editUrl":"https://github.com/Travelgate/documentation/tree/main/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Mapping","permalink":"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/mapping"},"next":{"title":"Cheapest Price","permalink":"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price"}}'),i=t(85893),n=t(50065);let r={sidebar_position:3},o="Blacklist",c={},a=[{value:"1. Create your Blacklist Rules on our Travelgate website",id:"1-create-your-blacklist-rules-on-our-travelgate-website",level:2},{value:"Step 1. Rule Name",id:"step-1-rule-name",level:3},{value:"Step 2. Rule Configuration",id:"step-2-rule-configuration",level:3},{value:"2.1 Target Criteria",id:"21-target-criteria",level:4},{value:"2.2 Hotels",id:"22-hotels",level:4},{value:"Step 3. Review and Create the Rule",id:"step-3-review-and-create-the-rule",level:3},{value:"Optional: Create your Blacklist Rules using a file",id:"optional-create-your-blacklist-rules-using-a-file",level:2},{value:"File Format Specification",id:"file-format-specification",level:3},{value:"Check Some of the Most Common Use Cases",id:"check-some-of-the-most-common-use-cases",level:3},{value:"2. Execute Blacklist Plugin in your Query",id:"2-execute-blacklist-plugin-in-your-query",level:2}];function d(e){let s={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.a)(),...e.components},{BrowserWindow:t,Details:l}=s;return t||u("BrowserWindow",!0),l||u("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"blacklist",children:"Blacklist"})}),"\n",(0,i.jsx)(s.p,{children:"The Blacklist App allows Buyers to define business rules that block search traffic to specific hotels or suppliers. This helps streamline results and enforce your internal policies. You can create rules based on multiple conditions, such as country, hotel, date range, or rate type (packages, non-refundable, etc.)."}),"\n",(0,i.jsx)(s.p,{children:"To use the Blacklist plugin, you need to:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Create your Blacklist rules (via website or SFTP file)."}),"\n",(0,i.jsx)(s.li,{children:"Add the plugin to your Hotel-X search query."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"1-create-your-blacklist-rules-on-our-travelgate-website",children:"1. Create your Blacklist Rules on our Travelgate website"}),"\n",(0,i.jsxs)(s.p,{children:["Hotel-X will block the traffic according to the ",(0,i.jsx)(s.strong,{children:"Blacklist rules"})," you create on our ",(0,i.jsx)(s.a,{href:"https://app.travelgate.com/connections/plugins",children:"Travelgate website"}),", under ",(0,i.jsx)(s.strong,{children:"Plugins \u2192 Blacklist"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"In this section, you can:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"View all your existing rules."}),"\n",(0,i.jsx)(s.li,{children:"Create new rules."}),"\n",(0,i.jsx)(s.li,{children:"Edit or delete rules."}),"\n",(0,i.jsx)(s.li,{children:"Change the priority of rules."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://stplaformwe.blob.core.windows.net/docs/blacklist_list.png",alt:"Blacklist Rules Overview"})}),"\n",(0,i.jsxs)(s.p,{children:["Creating or editing a rule is done through a simple ",(0,i.jsx)(s.strong,{children:"3-step form"})," in the ",(0,i.jsx)(s.strong,{children:"Blacklist App"})," section of the ",(0,i.jsx)(s.a,{href:"https://app.travelgate.com/connections/plugins",children:"Plugins"})," page. Each step defines how and when your rule will be applied."]}),"\n",(0,i.jsx)(s.h3,{id:"step-1-rule-name",children:"Step 1. Rule Name"}),"\n",(0,i.jsxs)(s.p,{children:["Give your rule a clear and identifiable name.",(0,i.jsx)(s.br,{}),"\n","This name will help you easily recognize the rule later when managing or prioritizing your rules."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://stplaformwe.blob.core.windows.net/docs/blacklist_step1.png",alt:"Blacklist Step 1"})}),"\n",(0,i.jsx)(s.h3,{id:"step-2-rule-configuration",children:"Step 2. Rule Configuration"}),"\n",(0,i.jsxs)(s.p,{children:["This step defines both the ",(0,i.jsx)(s.strong,{children:"target criteria"})," under which your block will apply and the ",(0,i.jsx)(s.strong,{children:"hotels"})," affected."]}),"\n",(0,i.jsx)(s.h4,{id:"21-target-criteria",children:"2.1 Target Criteria"}),"\n",(0,i.jsx)(s.p,{children:"Specify the conditions that must be met for this blacklist rule to apply. You can define:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Clients"}),"\n",(0,i.jsx)(s.li,{children:"Suppliers"}),"\n",(0,i.jsx)(s.li,{children:"Accesses"}),"\n",(0,i.jsx)(s.li,{children:"Markets (optional)"}),"\n",(0,i.jsx)(s.li,{children:"Nationalities (optional)"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["You can select ",(0,i.jsx)(s.strong,{children:"all clients and suppliers"}),", or only specific ones. You can also ",(0,i.jsx)(s.strong,{children:"exclude certain clients or suppliers"})," using the checkboxes \u2014 meaning the rule will apply to all except those marked."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://stplaformwe.blob.core.windows.net/docs/blacklist_step2.png",alt:"Blacklist Step 2.1"})}),"\n",(0,i.jsx)(s.h4,{id:"22-hotels",children:"2.2 Hotels"}),"\n",(0,i.jsx)(s.p,{children:"In this section, you configure:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Whether the rule is a ",(0,i.jsx)(s.strong,{children:"Blacklist"})," or ",(0,i.jsx)(s.strong,{children:"Whitelist"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.strong,{children:"Buyer context"})," (if using FastX codes, check the FastX option)."]}),"\n",(0,i.jsxs)(s.li,{children:["The hotels affected:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"All hotels"}),"\n",(0,i.jsx)(s.li,{children:"Specific hotel codes"}),"\n",(0,i.jsx)(s.li,{children:"All hotels in one or more countries"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://stplaformwe.blob.core.windows.net/docs/blacklist_step2b.png",alt:"Blacklist Step 2.2"})}),"\n",(0,i.jsx)(s.h3,{id:"step-3-review-and-create-the-rule",children:"Step 3. Review and Create the Rule"}),"\n",(0,i.jsxs)(s.p,{children:["Before saving, review all configurations. Once confirmed, click ",(0,i.jsx)(s.strong,{children:"Create Rule"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://stplaformwe.blob.core.windows.net/docs/blacklist_step3.png",alt:"Blacklist Step 3"})}),"\n",(0,i.jsx)(s.p,{children:"You can also:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Edit"})," or ",(0,i.jsx)(s.strong,{children:"delete"})," the rule at any time."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change the priority"})," of the rule relative to other existing rules."]}),"\n",(0,i.jsxs)(s.li,{children:["Access ",(0,i.jsx)(s.strong,{children:"logs"})," to track which user created or modified each rule and when the changes occurred."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"optional-create-your-blacklist-rules-using-a-file",children:"Optional: Create your Blacklist Rules using a file"}),"\n",(0,i.jsx)(s.p,{children:"You can also create your Blacklist Rules uploading a file to our SFTP server instead of using our website."}),"\n",(0,i.jsx)(s.p,{children:"To get started, create your blacklist file in the correct format and then upload it to your FTP account. We've provided a template file below \u2B07\uFE0F to help you with this process. Just click on the file name, add your own rules, save it in CSV format, and then upload it to the corresponding folder in your FTP."}),"\n",(0,i.jsx)(t,{children:(0,i.jsxs)(s.p,{children:["\u{1F4C1}HotelX",(0,i.jsx)(s.br,{}),"\n","\xa0\xa0\xa0\xa0 \u{1F4C1}HotelX_0000",(0,i.jsx)(s.br,{}),"\n","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u{1F4C1}BusinessRules",(0,i.jsx)(s.br,{}),"\n","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ",(0,i.jsxs)(s.strong,{children:["\u{1F4C4}",(0,i.jsx)(s.a,{href:"https://storage.travelgate.com/docs/blacklist_access_hotels.csv",children:"blacklist_access_hotels.csv"})]})]})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["If you need assistance with requesting your credentials to access the SFTP server, determining the endpoint and directory format, or learning how to upload, update, and delete SFTP files, please refer to the ",(0,i.jsx)(s.a,{href:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/overview",children:"overview"})," section of Plugins."]})}),"\n",(0,i.jsx)(s.h3,{id:"file-format-specification",children:"File Format Specification"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"File Name:"})," blacklist_access_hotels.csv"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Directory:"})," HotelX/HotelX_0000/BusinessRules"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Delimiter:"})," Comma (",(0,i.jsx)(s.code,{children:","}),")"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Header Row:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"IdRule:"})," Unique identifier of the rule. You can assign one with the identifier that suits you better."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"ClientToken:"})," List of the client tokens you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),". This is a dynamic parameter that you can include in your query request if you wish to enforce particular rules from the blacklist."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoClientToken:"})," List of the client tokens you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Client:"})," List of the specific clients you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoClient:"})," List of the specific clients you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Supplier:"})," List of the supplier codes you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoSupplier:"})," List of the supplier codes you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access:"})," List of the access codes you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoAccess:"})," List of the access codes you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Context:"})," List of the Buyer context codes you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoContext:"})," List of the Buyer context codes you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"ContextSup:"})," List of the Supplier context codes you want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"NoContextSup:"})," List of the Supplier context codes you don't want the rule to be applied to, separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Values:"})," Values can be 'blacklist' or 'whitelist' with hotel codes grouped by context. The format is as follows:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["All values should have two blocks separated by the characters ",(0,i.jsx)(s.code,{children:"||"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["The first block identifies the ",(0,i.jsx)(s.code,{children:"context"})," and the second block identifies the list of ",(0,i.jsx)(s.code,{children:"hotel codes"})," separated by ",(0,i.jsx)(s.code,{children:";"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Values in the whitelist or blacklist are separated by the characters ",(0,i.jsx)(s.code,{children:"|@|"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Use 'all' as a keyword when you want to choose all contexts or all hotels."}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Format examples:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Blacklist: ",(0,i.jsx)(s.code,{children:"bl:(CTX1||A;B;C|@|CTX2||C;B;D;)"})]}),"\n",(0,i.jsxs)(s.li,{children:["Whitelist: ",(0,i.jsx)(s.code,{children:"wl:(CTX1||A;B;C|@|CTX2||all)"})]}),"\n",(0,i.jsxs)(s.li,{children:["Blacklist and Whitelist (if blacklist and whitelist are used at same time, then the CONTEXT must be exclusive): ",(0,i.jsx)(s.code,{children:"bl:(CTX1||A;B;C), wl:(CTX2||A;B;C)"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"caution",children:(0,i.jsxs)(s.p,{children:["Keep in mind that this file contains a collection of rules, and the system will choose ",(0,i.jsx)(s.strong,{children:"the first rule that matches the criteria sent in the query"}),". You must specify the most restrictive rules at the top of the file. If there's no value for any rule criteria row, it means that any value in the request matches this row. Indicate the contexts used in values on the rule criteria to improve rule matching."]})}),"\n",(0,i.jsxs)(l,{children:[(0,i.jsx)("summary",{children:"\u{1F4F9} Learn how to change the format of the csv file in order to edit and save it"}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:(0,i.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/XkOk3SkZ0Sg?si=TYhN1QfMwYE1fusw&controls=0",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0})})})]}),"\n",(0,i.jsx)(s.h3,{id:"check-some-of-the-most-common-use-cases",children:"Check Some of the Most Common Use Cases"}),"\n",(0,i.jsx)(s.p,{children:"Here are some common use cases for the Blacklist plugin, along with the CSV template file to use:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Use Case"}),(0,i.jsx)(s.th,{children:"CSV Template file"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Block all hotels of two accesses"}),(0,i.jsxs)(s.td,{children:["\u{1F4C4}",(0,i.jsx)(s.a,{href:"https://storage.travelgate.com/docs/blacklist_access_hotels-1.csv",children:"blacklist  _access  _hotels.csv"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Block all hotels of two suppliers"}),(0,i.jsxs)(s.td,{children:["\u{1F4C4}",(0,i.jsx)(s.a,{href:"https://storage.travelgate.com/docs/blacklist_access_hotels-2.csv",children:"blacklist  _access  _hotels.csv"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Block all hotels except \u201CA\u201D and \u201CB\u201D of two suppliers"}),(0,i.jsxs)(s.td,{children:["\u{1F4C4}",(0,i.jsx)(s.a,{href:"https://storage.travelgate.com/docs/blacklist_access_hotels-3.csv",children:"blacklist  _access  _hotels.csv"})]})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"2-execute-blacklist-plugin-in-your-query",children:"2. Execute Blacklist Plugin in your Query"}),"\n",(0,i.jsxs)(s.p,{children:["Once you have created your blacklist rules \u2014 either ",(0,i.jsx)(s.strong,{children:"via the website"})," or by ",(0,i.jsx)(s.strong,{children:"uploading a file to the SFTP"})," \u2014 you can activate the plugin in your HotelX search query."]}),"\n",(0,i.jsxs)(s.p,{children:["To do this, add the following field to the ",(0,i.jsx)(s.code,{children:"settings"})," node of your request. Note that the Blacklist plugin can ",(0,i.jsx)(s.strong,{children:"only be executed during a search query"}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"step"})}),': "REQUEST_ACCESS"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"type"})}),': "PRE_STEP"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"name"})}),': "blacklist"']}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'"settings": {\n	"plugins": [\n		{\n			"step": "REQUEST_ACCESS",\n			"pluginsType": {\n				"type": "PRE_STEP",\n				"name": "blacklist"\n			}\n		}\n	]\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["To apply a specific rule in a query, add the ",(0,i.jsx)(s.code,{children:"clientTokens"})," field to the ",(0,i.jsx)(s.code,{children:"settings"})," node of your request:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'	"settings": {\n		"clientTokens": [\n			"testToken"\n		],\n		"plugins": [\n            {\n				"step": "REQUEST_ACCESS",\n				"pluginsType": {\n					"type": "PRE_STEP",\n					"name": "blacklist"\n				}\n			}\n        ]\n	}\n'})})]})}function h(e={}){let{wrapper:s}={...(0,n.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}function u(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},50065:function(e,s,t){t.d(s,{Z:()=>o,a:()=>r});var l=t(67294);let i={},n=l.createContext(i);function r(e){let s=l.useContext(n);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(n.Provider,{value:s},e.children)}}}]);