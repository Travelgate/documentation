"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["37614"],{92644:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>s,default:()=>u,metadata:()=>o,assets:()=>c,contentTitle:()=>l});var o=JSON.parse('{"id":"apps/reconciliation/api-integration","title":"API Integration","description":"Our API is designed to help you integrate your system with Travelgate, enabling you to access our powerful","source":"@site/docs/apps/reconciliation/api-integration.mdx","sourceDirName":"apps/reconciliation","slug":"/apps/reconciliation/api-integration","permalink":"/docs/apps/reconciliation/api-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Travelgate/documentation/tree/main/docs/apps/reconciliation/api-integration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Quickstart","permalink":"/docs/apps/reconciliation/quickstart"},"next":{"title":"Overview","permalink":"/docs/security/overview"}}'),i=t(85893),a=t(50065);let r={sidebar_position:2},l="API Integration",c={},s=[{value:"Before you start",id:"before-you-start",level:2},{value:"General Information",id:"general-information",level:2},{value:"Mutations",id:"mutations",level:2},{value:"Create a seller booking",id:"create-a-seller-booking",level:3},{value:"Cancel a seller booking",id:"cancel-a-seller-booking",level:3},{value:"Update a seller booking",id:"update-a-seller-booking",level:3},{value:"Create a buyer booking",id:"create-a-buyer-booking",level:3},{value:"Cancel a buyer booking",id:"cancel-a-buyer-booking",level:3},{value:"Update a buyer booking",id:"update-a-buyer-booking",level:3}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-integration",children:"API Integration"})}),"\n",(0,i.jsx)(n.p,{children:"Our API is designed to help you integrate your system with Travelgate, enabling you to access our powerful\nreconciliation solution. This guide will walk you through the process of setting up your API integration,\nso you can start reconciling bookings with ease."}),"\n",(0,i.jsx)(n.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,i.jsx)(n.p,{children:"Before you start, make sure you have the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GraphQL Knowledge"}),": Our API is built on GraphQL, so having a basic understanding of how it works will be helpful."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"An active Travelgate account"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"API Key"}),": You can generate an API key by logging into your Travelgate account and navigating to the\n",(0,i.jsx)(n.a,{href:"https://app.travelgate.com/settings/apikeys",children:"API Key"})," section."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"general-information",children:"General Information"}),"\n",(0,i.jsxs)(n.p,{children:["You can send data to reconciliation from two different perspectives: as a Buyer or as a Seller. Graphql mutations and\nqueries are available for both perspectives. e.g: ",(0,i.jsx)(n.code,{children:"bookingCreateSeller"}),", ",(0,i.jsx)(n.code,{children:"bookingCreateBuyer"}),", ",(0,i.jsx)(n.code,{children:"bookingCancelSeller"}),",\n",(0,i.jsx)(n.code,{children:"bookingCancelBuyer"}),", etc."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"The code samples provided in this guide are written for a Seller perspective"}),". If you are a Buyer, you can use the same\nmutations and queries by replacing the Seller with Buyer. e.g: ",(0,i.jsx)(n.code,{children:"bookingCreateSeller"})," -> ",(0,i.jsx)(n.code,{children:"bookingCreateBuyer"})," with a slight\nmodification in the input data: when you are a Buyer, you need to provide the ",(0,i.jsx)(n.code,{children:"sellerIdentity"})," field in the input data and\nwhen you are a Seller, you need to provide the ",(0,i.jsx)(n.code,{children:"buyerIdentity"})," field in the input data."]}),"\n",(0,i.jsxs)(n.p,{children:["When you update a booking, the field ",(0,i.jsx)(n.code,{children:"updatedAt"})," is required in the ",(0,i.jsx)(n.code,{children:"reservation"})," object. This field indicates the date\nand time when the booking was updated in your system."]}),"\n",(0,i.jsxs)(n.p,{children:["When you cancel a booking, the field ",(0,i.jsx)(n.code,{children:"canceledAt"})," is required in the ",(0,i.jsx)(n.code,{children:"reservation"})," object. This field indicates the date\nand time when the booking was canceled in your system."]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.p,{children:["Starting from ",(0,i.jsx)(n.strong,{children:"December 15, 2025"}),", the ",(0,i.jsx)(n.code,{children:"cancellationPolicy"})," field will be ",(0,i.jsx)(n.strong,{children:"mandatory"})," when creating or updating a\nbooking. Please ensure to include this field in your requests to avoid any disruptions."]})}),"\n",(0,i.jsx)(n.admonition,{title:"Very Important",type:"danger",children:(0,i.jsxs)(n.p,{children:["Before you can cancel or update a booking, you must have already created it in the system using the ",(0,i.jsx)(n.code,{children:"bookingCreateSeller"}),"\nor ",(0,i.jsx)(n.code,{children:"bookingCreateBuyer"})," mutation."]})}),"\n",(0,i.jsx)(n.h2,{id:"mutations",children:"Mutations"}),"\n",(0,i.jsx)(n.p,{children:"Below are examples of how to use the different mutations available in the Reconciliation API."}),"\n",(0,i.jsx)(n.h3,{id:"create-a-seller-booking",children:"Create a seller booking"}),"\n",(0,i.jsxs)(n.p,{children:["You create a new booking by using ",(0,i.jsx)(n.code,{children:"bookingCreateSeller"})," mutation. This mutation will create a new booking in the\nsystem. Below is a full example of how to create a new booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCreateSeller {\n  reconciliation {\n    bookingCreateSeller(\n      input: {\n        buyerReference: "test-202403061027",\n        sellerReference: "test-202403061027",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode: "xyz"\n          }\n        },\n        reservation: {\n          createdAt: "2024-02-28T09:00"\n          netPayable: {\n            amount: "50",\n            currency: "EUR"\n          },\n          status: "CONFIRMED",\n          hotel: {\n            codeSeller: "s8",\n            name: "Hotel Test",\n            address: "Bora Bora",\n            country: "ES",\n            coordinates: {\n              latitude: "2.568965",\n              longitude: "42.369854"\n            }\n          },\n          cancellationPolicy: {\n            refundable: true,\n            penalties: [{\n              value: "5",\n              currency: "EUR",\n              deadline: "2024-02-28T09:00"\n            }, {\n              value: "26",\n              currency: "EUR",\n              deadline: "2024-03-01T14:00"\n            }]},\n          rooms: [{\n            checkIn: "2024-03-06",\n            checkOut: "2024-03-08",\n            board: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            room: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            guests: [{\n              age: 25\n            }, {\n              age: 30\n            }]\n          }]\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cancel-a-seller-booking",children:"Cancel a seller booking"}),"\n",(0,i.jsxs)(n.p,{children:["You can cancel a booking by using the ",(0,i.jsx)(n.code,{children:"bookingCancelSeller"})," mutation. This mutation will cancel the booking in the\nsystem. Below is a full example of how to cancel a booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCancelSeller {\n  reconciliation {\n    bookingCancelSeller(\n      input: {\n        buyerReference: "tet-202411271231",\n        sellerReference: "test-202411271231",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode:    "xyz"\n          }\n        },\n        reservation: {\n          canceledAt: "2024-11-28T18:47",\n          netPayable: {\n            amount: "50",\n            currency: "EUR",\n          }\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        createdAt\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"update-a-seller-booking",children:"Update a seller booking"}),"\n",(0,i.jsxs)(n.p,{children:["You can update a booking by using the ",(0,i.jsx)(n.code,{children:"bookingUpdateSeller"})," mutation. This mutation will update the booking in the\nsystem. Below is a full example of how to update a booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingUpdateSeller {\n  reconciliation {\n    bookingUpdateSeller(\n      input: {\n        buyerReference: "test-202403061027",\n        sellerReference: "test-202403061027",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode: "xyz"\n          }\n        },\n        reservation: {\n          updatedAt: "2024-02-28T09:00"\n          netPayable: {\n            amount: "50",\n            currency: "EUR"\n          },\n          status: "CONFIRMED",\n          hotel: {\n            codeSeller: "s8",\n            name: "Hotel Test",\n            address: "Bora Bora",\n            country: "ES",\n            coordinates: {\n              latitude: "2.568965",\n              longitude: "42.369854"\n            }\n          },\n          cancellationPolicy: {\n            refundable: true,\n            penalties: [{\n              value: "5",\n              currency: "EUR",\n              deadline: "2024-02-28T09:00"\n            }, {\n              value: "26",\n              currency: "EUR",\n              deadline: "2024-03-01T14:00"\n            }]},\n          rooms: [{\n            checkIn: "2024-03-06",\n            checkOut: "2024-03-08",\n            board: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            room: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            guests: [{\n              age: 25\n            }, {\n              age: 30\n            }]\n          }]\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"create-a-buyer-booking",children:"Create a buyer booking"}),"\n",(0,i.jsxs)(n.p,{children:["You create a new booking by using ",(0,i.jsx)(n.code,{children:"bookingCreateBuyer"})," mutation. This mutation will create a new booking in the\nsystem. Below is a full example of how to create a new booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCreateBuyer {\n  reconciliation {\n    bookingCreateBuyer(\n      input: {\n        buyerReference: "test-202403061027",\n        sellerReference: "test-202403061027",\n        sellerIdentity: {\n          travelgate: {\n            supplierCode: "xyz"\n          }\n        },\n        reservation: {\n          createdAt: "2024-02-28T09:00"\n          netPayable: {\n            amount: "50",\n            currency: "EUR"\n          },\n          status: "CONFIRMED",\n          hotel: {\n            codeSeller: "s8",\n            name: "Hotel Test",\n            address: "Bora Bora",\n            country: "ES",\n            coordinates: {\n              latitude: "2.568965",\n              longitude: "42.369854"\n            }\n          },\n          cancellationPolicy: {\n            refundable: true,\n            penalties: [{\n              value: "5",\n              currency: "EUR",\n              deadline: "2024-02-28T09:00"\n            }, {\n              value: "26",\n              currency: "EUR",\n              deadline: "2024-03-01T14:00"\n            }]},\n          rooms: [{\n            checkIn: "2024-03-06",\n            checkOut: "2024-03-08",\n            board: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            room: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            guests: [{\n              age: 25\n            }, {\n              age: 30\n            }]\n          }]\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cancel-a-buyer-booking",children:"Cancel a buyer booking"}),"\n",(0,i.jsxs)(n.p,{children:["You can cancel a booking by using the ",(0,i.jsx)(n.code,{children:"bookingCancelBuyer"})," mutation. This mutation will cancel the booking in the\nsystem. Below is a full example of how to cancel a booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCancelBuyer {\n  reconciliation {\n    bookingCancelBuyer(\n      input: {\n        buyerReference: "tet-202411271231",\n        sellerReference: "test-202411271231",\n        sellerIdentity: {\n          travelgate: {\n            supplierCode:    "xyz"\n          }\n        },\n        reservation: {\n          canceledAt: "2024-11-28T18:47",\n          netPayable: {\n            amount: "50",\n            currency: "EUR",\n          }\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        createdAt\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"update-a-buyer-booking",children:"Update a buyer booking"}),"\n",(0,i.jsxs)(n.p,{children:["You can update a booking by using the ",(0,i.jsx)(n.code,{children:"bookingUpdateBuyer"})," mutation. This mutation will update the booking in the\nsystem. Below is a full example of how to update a booking."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation BookingUpdateBuyer {\n  reconciliation {\n    bookingUpdateBuyer(\n      input: {\n        buyerReference: "test-202403061027",\n        sellerReference: "test-202403061027",\n        sellerIdentity: {\n          travelgate: {\n            supplierCode: "xyz"\n          }\n        },\n        reservation: {\n          updatedAt: "2024-02-28T09:00"\n          netPayable: {\n            amount: "50",\n            currency: "EUR"\n          },\n          status: "CONFIRMED",\n          hotel: {\n            codeSeller: "s8",\n            name: "Hotel Test",\n            address: "Bora Bora",\n            country: "ES",\n            coordinates: {\n              latitude: "2.568965",\n              longitude: "42.369854"\n            }\n          },\n          cancellationPolicy: {\n            refundable: true,\n            penalties: [{\n              value: "5",\n              currency: "EUR",\n              deadline: "2024-02-28T09:00"\n            }, {\n              value: "26",\n              currency: "EUR",\n              deadline: "2024-03-01T14:00"\n            }]},\n          rooms: [{\n            checkIn: "2024-03-06",\n            checkOut: "2024-03-08",\n            board: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            room: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            guests: [{\n              age: 25\n            }, {\n              age: 30\n            }]\n          }]\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},50065:function(e,n,t){t.d(n,{Z:()=>l,a:()=>r});var o=t(67294);let i={},a=o.createContext(i);function r(e){let n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);